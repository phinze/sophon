<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>sophon — sessions</title>
<link rel="stylesheet" href="/static/style.css">
</head>
<body data-page="sessions">
<div class="container">
  <h1>sophon</h1>

  <h2>Active Sessions</h2>
  <div id="active-sessions">
  {{if .Active}}
    {{range .Active}}
    <a class="card" href="/respond/{{.ID}}">
      <div class="card-header">
        <span class="dot {{if .NotifyMessage}}dot-waiting{{else}}dot-active{{end}}"></span>
        <span class="project-name">{{.Project}}</span>
        {{if .NodeName}}<span class="node-name">{{.NodeName}}</span>{{end}}
      </div>
      <div class="card-detail">
        Started {{timeAgo .StartedAt}}{{if not .LastActivityAt.IsZero}} · active {{timeAgo .LastActivityAt}}{{end}}{{if .NotifyMessage}} · notified {{timeAgo .NotifiedAt}}{{end}}
      </div>
      {{if .NotifyMessage}}
      <div class="card-message">{{.NotifyMessage}}</div>
      {{end}}
    </a>
    {{end}}
  {{else}}
    <div class="empty">No active sessions</div>
  {{end}}
  </div>

  <h2>Recent Sessions</h2>
  <div id="recent-sessions">
  {{if .Recent}}
    {{range .Recent}}
    <div class="card">
      <div class="card-header">
        <span class="dot dot-stopped"></span>
        <span class="project-name">{{.Project}}</span>
        {{if .NodeName}}<span class="node-name">{{.NodeName}}</span>{{end}}
      </div>
      <div class="card-detail">Stopped {{timeAgo .StoppedAt}}</div>
    </div>
    {{end}}
  {{else}}
    <div class="empty">No recent sessions</div>
  {{end}}
  </div>
</div>

<script>window.__SOPHON__ = { apiBase: '' };</script>
<script src="/static/sessions.js"></script>
</body>
</html>
