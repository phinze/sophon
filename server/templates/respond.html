<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>sophon — {{.Session.Project}}</title>
<link rel="stylesheet" href="/sophon/static/style.css">
</head>
<body data-page="respond">
<div class="container">
  <div class="project">{{.Session.Project}}</div>

  <div id="conversation"></div>

  {{if .Session.NotifyMessage}}
  <div class="context">{{.Session.NotifyMessage}}</div>
  {{end}}

  <div id="status" class="status"></div>

  {{if .HasPerm}}
  <div class="quick-buttons">
    <button class="btn-allow" onclick="send('y')">Allow</button>
    <button class="btn-allow-all" onclick="send('a')">Always</button>
    <button class="btn-deny" onclick="send('n')">Deny</button>
  </div>
  {{end}}

  <div class="input-group">
    <input type="text" id="text" placeholder="Type a response..." autofocus
           onkeydown="if(event.key==='Enter')sendText()">
    <button onclick="sendText()">Send</button>
  </div>

  <div class="meta">Session {{.Session.ID}} · {{.TimeAgo}}</div>
</div>

<script>window.__SOPHON__ = { apiBase: '{{.BaseURL}}', sessionId: '{{.Session.ID}}' };</script>
<script src="/sophon/static/respond.js"></script>
</body>
</html>
